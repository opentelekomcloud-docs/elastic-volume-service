:original_name: evs_04_3061.html

.. _evs_04_3061:

Querying Details About an EVS Snapshot
======================================

Function
--------

This API is used to query details about an EVS snapshot.

URI
---

-  URI format

   GET /v3/{project_id}/snapshots/{snapshot_id}

-  Parameter description

   =========== ========= ==========================
   Parameter   Mandatory Description
   =========== ========= ==========================
   project_id  Yes       Specifies the project ID.
   snapshot_id Yes       Specifies the snapshot ID.
   =========== ========= ==========================

Request
-------

-  Example request

   .. code-block:: text

      GET https://{endpoint}/v3/{project_id}/snapshots/f9faf7df-fdc1-4093-9ef3-5cba06eef995

Response
--------

-  Parameter description

   +-----------+--------+--------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter | Type   | Description                                                                                                                                      |
   +===========+========+==================================================================================================================================================+
   | snapshot  | Object | Specifies the snapshot information. For details, see :ref:`Parameters in the snapshot field <evs_04_3061__evs_04_2098_li64773086111836>`.        |
   +-----------+--------+--------------------------------------------------------------------------------------------------------------------------------------------------+
   | error     | Object | Specifies the error message returned when an error occurs. For details, see :ref:`Parameters in the error field <evs_04_3061__li0419202382514>`. |
   +-----------+--------+--------------------------------------------------------------------------------------------------------------------------------------------------+

-  .. _evs_04_3061__evs_04_2098_li64773086111836:

   Parameters in the **snapshot** field

   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                                  | Type                  | Description                                                                                                                                                                                            |
   +============================================+=======================+========================================================================================================================================================================================================+
   | id                                         | String                | Specifies the snapshot ID.                                                                                                                                                                             |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                                     | String                | Specifies the snapshot status. For details, see :ref:`EVS Snapshot Status <evs_04_0041>`.                                                                                                              |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                                       | String                | Specifies the snapshot name.                                                                                                                                                                           |
   |                                            |                       |                                                                                                                                                                                                        |
   |                                            |                       | Snapshots whose names started with prefix **autobk_snapshot\_** are automatically created by the system during backup creations. Do not delete these snapshots or use them to roll back the disk data. |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description                                | String                | Specifies the snapshot description.                                                                                                                                                                    |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at                                 | String                | Specifies the time when the snapshot was created.                                                                                                                                                      |
   |                                            |                       |                                                                                                                                                                                                        |
   |                                            |                       | Time format: UTC YYYY-MM-DDTHH:MM:SS.XXXXXX                                                                                                                                                            |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at                                 | String                | Specifies the time when the snapshot was updated.                                                                                                                                                      |
   |                                            |                       |                                                                                                                                                                                                        |
   |                                            |                       | Time format: UTC YYYY-MM-DDTHH:MM:SS.XXXXXX                                                                                                                                                            |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | metadata                                   | Object                | Specifies the snapshot metadata.                                                                                                                                                                       |
   |                                            |                       |                                                                                                                                                                                                        |
   |                                            |                       | If **metadata** contains the **\__system__enableActive** field, the snapshot is automatically created during the backup of a server.                                                                   |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | volume_id                                  | String                | Specifies the ID of the snapshot's source disk.                                                                                                                                                        |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | size                                       | Integer               | Specifies the snapshot size, in GB.                                                                                                                                                                    |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os-extended-snapshot-attributes:project_id | String                | Specifies the tenant ID. The tenant ID is actually the project ID.                                                                                                                                     |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | os-extended-snapshot-attributes:progress   | String                | Reserved field                                                                                                                                                                                         |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | user_id                                    | String                | Reserved field                                                                                                                                                                                         |
   +--------------------------------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

-  .. _evs_04_3061__li0419202382514:

   Parameters in the **error** field

   +-----------------------+-----------------------+-------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                             |
   +=======================+=======================+=========================================================================+
   | message               | String                | Specifies the error message returned when an error occurs.              |
   +-----------------------+-----------------------+-------------------------------------------------------------------------+
   | code                  | String                | Specifies the error code returned when an error occurs.                 |
   |                       |                       |                                                                         |
   |                       |                       | For details about the error code, see :ref:`Error Codes <evs_04_0038>`. |
   +-----------------------+-----------------------+-------------------------------------------------------------------------+

-  Example response

   .. code-block::

      {
          "snapshot": {
              "status": "available",
              "os-extended-snapshot-attributes:progress": "100%",
              "description": "daily backup",
              "created_at": "2013-02-25t04:13:17.000000",
              "metadata": { },
              "volume_id": "5aa119a8-d25b-45a7-8d1b-88e127885635",
              "os-extended-snapshot-attributes:project_id": "0c2eba2c5af04d3f9e9d0d410b371fde",
              "size": 1,
              "user_id": "48d70679b8644035846b2cb53633c256",
              "id": "2bb856e1-b3d8-4432-a858-09e4ce939389",
              "name": "snap-001",
              "updated_at": null
          }
      }

   or

   .. code-block::

      {
          "error": {
              "message": "XXXX",
              "code": "XXX"
          }
      }

   In the preceding example, **error** indicates a general error, for example, **badRequest** or **itemNotFound**. An example is provided as follows:

   .. code-block::

      {
          "itemNotFound": {
              "message": "XXXX",
              "code": "XXX"
          }
      }

Status Codes
------------

-  Normal

   200

Error Codes
-----------

For details, see :ref:`Error Codes <evs_04_0038>`.
